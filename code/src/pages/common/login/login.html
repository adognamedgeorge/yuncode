<!--
  Generated template for the LoginPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>登录</ion-title>
  </ion-navbar>
</ion-header>
<ion-content>
	<div class="sub_header">
		<ion-segment [(ngModel)]="tabs" class="tabsLogin" color="danger">
			<ion-segment-button value="passwordLogin" (ionSelect)="goToSlide(1)">普通登录</ion-segment-button>
			<ion-segment-button value="identifyingLogin" (ionSelect)="goToSlide(2)">验证码登录</ion-segment-button>
		</ion-segment>
	</div>
	<div class="p_content">
		<div [ngSwitch]="tabs">
      <ion-list *ngSwitchCase="'passwordLogin'">
        <ion-item>
          <ion-input type="text" placeholder="手机号/账户" [(ngModel)]="username" clearInput></ion-input>
        </ion-item>
        <ion-item>
          <ion-input class="psw" type="password" [(ngModel)]='password' placeholder="密码" clearInput></ion-input>
        </ion-item>
        <!--<ion-item no-lines class="list_end">-->
          <!--<span item-end [navPush]="'ChangePasswordPage'">-->
            <!--忘记密码？-->
          <!--</span>-->
        <!--</ion-item>-->
      </ion-list>
      <ion-list *ngSwitchCase="'identifyingLogin'">
        <ion-item>
          <ion-input type="tel" placeholder="手机号" [(ngModel)]="telNum" (ngModelChange)="changeDate($event)"></ion-input>
        </ion-item>
        <ion-item>
          <div class="sign_page">
            <input type="text" placeholder="验证码" [(ngModel)]='VerificationNum'>
            <div [ngSwitch]="verificationType">
              <button ion-button color="danger" small  *ngSwitchCase="0" (tap)="sendVerification()">
                获取验证码
              </button>
              <button ion-button color="light" small  *ngSwitchCase="1">
                倒计时( {{countDown}} )s
              </button>
              <button ion-button color="danger" small  *ngSwitchCase="2" (tap)="sendVerification()">
                重新发送
              </button>
            </div>
          </div>
        </ion-item>
        <div class="protocol">温馨提示:未注册云蚂蚁账号的手机号,登录时将自动注册,且代表您已同意<span>《云蚂蚁用户协议》</span></div>
      </ion-list>
		</div>
	</div>
	<button ion-button block color='danger' class="login_btn" *ngIf="tabs == 'passwordLogin'"  (click)="login(1)">登录</button>
  <button ion-button block color='danger' class="login_btn" *ngIf="tabs == 'identifyingLogin'" (click)="login(2)">登录</button>
</ion-content>
